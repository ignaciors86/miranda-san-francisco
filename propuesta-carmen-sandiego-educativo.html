<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Miranda San Francisco - Aprender con Estilo</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@700&family=Montserrat:wght@600;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary: #FF3366;
            --secondary: #2D3436;
            --accent: #00B894;
            --background: #0A0A0A;
            --surface: #1A1A1A;
            --text: #FFFFFF;
            --text-secondary: rgba(255, 255, 255, 0.7);
            --title-font: 'Playfair Display', serif;
            --subtitle-font: 'Montserrat', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(255, 51, 102, 0.2), rgba(0, 184, 148, 0.2));
            z-index: 1;
        }

        .hero-content {
            text-align: center;
            z-index: 2;
            padding: 2rem;
            max-width: 800px;
        }

        h1 {
            font-family: var(--title-font);
            font-size: clamp(3rem, 8vw, 6rem);
            font-weight: 700;
            margin-bottom: 1rem;
            line-height: 1.2;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.02em;
        }

        .subtitle {
            font-family: var(--subtitle-font);
            font-size: clamp(1.2rem, 3vw, 1.8rem);
            color: var(--text-secondary);
            margin-bottom: 2rem;
            letter-spacing: 0.02em;
        }

        .video-container {
            position: relative;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            aspect-ratio: 16/9;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        .features {
            padding: 6rem 2rem;
            background: var(--surface);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 2rem;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .feature-card h3 {
            font-family: var(--subtitle-font);
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--primary);
            letter-spacing: 0.01em;
        }

        .feature-card p {
            color: var(--text-secondary);
        }

        .flow {
            padding: 6rem 2rem;
            background: var(--background);
        }

        .flow-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .flow-step {
            display: flex;
            align-items: center;
            gap: 4rem;
            margin-bottom: 4rem;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease;
        }

        .flow-step.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .flow-step:last-child {
            margin-bottom: 0;
        }

        .step-number {
            font-size: 4rem;
            font-weight: 700;
            color: var(--primary);
            opacity: 0.5;
        }

        .step-content {
            flex: 1;
        }

        .step-content h3 {
            font-family: var(--subtitle-font);
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--text);
            letter-spacing: 0.01em;
        }

        .step-content p {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        @media (max-width: 768px) {
            .flow-step {
                flex-direction: column;
                text-align: center;
                gap: 2rem;
            }

            .step-number {
                font-size: 3rem;
            }
        }

        /* Animaciones */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate {
            animation: fadeIn 0.6s ease forwards;
        }

        .characters {
            padding: 6rem 2rem;
            background: var(--background);
        }

        .characters-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .characters-container h2 {
            font-family: var(--title-font);
            text-align: center;
            font-size: clamp(2rem, 5vw, 3.5rem);
            margin-bottom: 4rem;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.02em;
        }

        .characters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .character-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 2rem;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s ease;
        }

        .character-card:hover {
            transform: translateY(-5px);
        }

        .character-card h3 {
            font-family: var(--subtitle-font);
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
            color: var(--primary);
            letter-spacing: 0.01em;
        }

        .character-role {
            color: var(--accent);
            font-size: 1.1rem;
            margin-bottom: 1rem;
            font-weight: 500;
        }

        .character-card p {
            color: var(--text-secondary);
            font-size: 1.1rem;
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            .characters-grid {
                grid-template-columns: 1fr;
            }
        }

        .character-selector {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin: 2rem 0;
        }

        .character-select {
            padding: 0.8rem 1.5rem;
            border-radius: 10px;
            border: 2px solid var(--primary);
            background: var(--surface);
            color: var(--text);
            font-family: var(--subtitle-font);
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 250px;
        }

        .character-select:hover {
            background: var(--primary);
            color: var(--background);
        }

        .character-select:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 51, 102, 0.3);
        }

        .adventure-steps {
            width: 100vw;
            padding: 2rem;
            margin: 2rem 0;
            overflow: hidden;
        }

        .steps-container {
            display: flex;
            flex-direction: row;
            gap: 2rem;
            padding: 2rem 0;
            min-width: max-content;
            position: relative;
            justify-content: flex-start;
        }

        .steps-container::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--accent);
            z-index: 1;
            opacity: 0.3;
        }

        .step {
            display: flex;
            flex-direction: column;
            background: var(--background);
            border: 2px solid var(--accent);
            border-radius: 15px;
            padding: 1.5rem;
            width: 250px;
            position: relative;
            z-index: 2;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            flex-shrink: 0;
        }

        .step:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .step.active {
            background: var(--accent);
            color: var(--background);
        }

        .step.completed {
            background: rgba(0, 184, 148, 0.1);
        }

        .step.completed::after {
            content: '✓';
            position: absolute;
            top: -10px;
            right: -10px;
            background: var(--accent);
            color: var(--background);
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .step-number {
            font-family: var(--title-font);
            font-size: 2.5rem;
            color: var(--accent);
            opacity: 0.7;
            min-width: 60px;
            text-align: center;
        }

        .step.active .step-number {
            color: var(--background);
        }

        .step-content {
            flex: 1;
        }

        .step-content h3 {
            font-family: var(--subtitle-font);
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: var(--text);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .step.active .step-content h3 {
            color: var(--background);
        }

        .step-content p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .step.active .step-content p {
            color: var(--background);
        }

        .step-arrow {
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            color: var(--accent);
            font-size: 1.5rem;
            display: none;
        }

        .step.active .step-arrow {
            display: block;
        }

        .adventure-title {
            margin-top: 4rem;
            text-align: center;
            font-size: clamp(2rem, 5vw, 3.5rem);
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.02em;
        }

        .case-details {
            width: 100%;
            margin: 2rem auto;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .case-title {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 2rem;
            color: var(--text);
            font-family: var(--title-font);
        }

        .locations-grid {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            margin-top: 1.5rem;
        }

        .location-card {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 15px;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
            position: relative;
            width: 100%;
        }

        .location-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .location-icon {
            width: 40px;
            height: 40px;
            background: var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: var(--background);
        }

        .location-description {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .witness-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 1.5rem;
            margin-top: 1rem;
        }

        .witness-card {
            border-left: 3px solid var(--accent);
            padding-left: 1rem;
        }

        .witness-card h5 {
            color: var(--accent);
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
        }

        .witness-testimony {
            font-style: italic;
            color: var(--text-secondary);
            margin: 1rem 0;
            line-height: 1.6;
        }

        .clues-section {
            margin: 1.5rem 0;
        }

        .clues-section h6 {
            color: var(--text);
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .clues-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .clues-list li {
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-secondary);
        }

        .clues-list li:last-child {
            border-bottom: none;
        }

        .next-location {
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .next-location h6 {
            color: var(--text);
            margin-bottom: 1rem;
            font-size: 1rem;
        }

        .location-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .location-option {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .location-option:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .location-option.correct {
            border-color: var(--accent);
        }

        .location-option.incorrect {
            border-color: var(--primary);
            opacity: 0.7;
        }

        .location-option h6 {
            color: var(--text);
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .location-option p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin: 0;
        }

        .location-feedback {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
        }

        .location-feedback.correct {
            background: rgba(0, 184, 148, 0.1);
            border: 1px solid var(--accent);
            color: var(--accent);
        }

        .location-feedback.incorrect {
            background: rgba(255, 51, 102, 0.1);
            border: 1px solid var(--primary);
            color: var(--primary);
        }

        .location-feedback.victory {
            background: linear-gradient(45deg, rgba(0, 184, 148, 0.2), rgba(255, 51, 102, 0.2));
            border: 2px solid var(--accent);
            color: var(--text);
            padding: 2rem;
            margin: 2rem 0;
            font-size: 1.2rem;
            font-family: var(--title-font);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            animation: victoryPulse 2s infinite;
        }

        @keyframes victoryPulse {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(0, 184, 148, 0.4);
            }

            70% {
                transform: scale(1.02);
                box-shadow: 0 0 0 20px rgba(0, 184, 148, 0);
            }

            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(0, 184, 148, 0);
            }
        }

        .victory-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--accent);
        }

        .victory-message {
            width: 100%;
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background: linear-gradient(45deg, rgba(0, 184, 148, 0.2), rgba(255, 51, 102, 0.2));
            border: 2px solid var(--accent);
            border-radius: 15px;
            text-align: center;
            animation: victoryPulse 2s infinite;
        }

        .victory-message .victory-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--accent);
        }

        .victory-message .victory-title {
            font-family: var(--title-font);
            font-size: 2rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 1rem;
            color: var(--text);
        }

        .victory-message .victory-subtitle {
            font-size: 1.2rem;
            color: var(--text);
            margin-bottom: 1rem;
        }

        .victory-message .victory-details {
            font-size: 1rem;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        @keyframes victoryPulse {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(0, 184, 148, 0.4);
            }

            70% {
                transform: scale(1.02);
                box-shadow: 0 0 0 20px rgba(0, 184, 148, 0);
            }

            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(0, 184, 148, 0);
            }
        }

        .wrong-location {
            background: rgba(255, 51, 102, 0.1);
            border: 1px solid var(--primary);
            margin: 2rem 0;
        }

        .wrong-location .location-icon {
            background: var(--primary);
        }

        .return-button {
            background: var(--primary);
            color: var(--background);
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-family: var(--subtitle-font);
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
            width: 100%;
        }

        .return-button:hover {
            background: var(--accent);
            transform: translateY(-2px);
        }

        .return-button:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 51, 102, 0.3);
        }

        .location-info {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .location-info p {
            margin: 0.5rem 0;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .location-info strong {
            color: var(--accent);
            font-family: var(--subtitle-font);
        }

        .location-option .location-info {
            margin-top: 1rem;
            background: rgba(255, 255, 255, 0.03);
        }

        .location-option.correct .location-info {
            border-color: var(--accent);
        }

        .location-option.incorrect .location-info {
            border-color: var(--primary);
        }

        .travel-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .travel-animation.active {
            opacity: 1;
            pointer-events: all;
        }

        .travel-content {
            text-align: center;
            color: var(--text);
            padding: 2rem;
        }

        .travel-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            animation: travelPulse 1s infinite;
        }

        .travel-title {
            font-family: var(--title-font);
            font-size: 2rem;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .travel-details {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        @keyframes travelPulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
            100% {
                transform: scale(1);
            }
        }

        .sub-locations {
            margin: 2rem 0;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .sub-locations h6 {
            color: var(--text);
            margin-bottom: 1rem;
            font-size: 1.1rem;
            font-family: var(--subtitle-font);
        }

        .sub-locations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .sub-location-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .sub-location-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .sub-location-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .sub-location-icon {
            width: 24px;
            height: 24px;
            background: var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            color: var(--background);
        }

        .sub-location-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .sub-location-clue {
            background: rgba(0, 184, 148, 0.1);
            border: 1px solid var(--accent);
            border-radius: 6px;
            padding: 0.8rem;
            margin: 1rem 0;
        }

        .sub-location-clue h6 {
            color: var(--accent);
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .sub-location-clue p {
            color: var(--text);
            font-size: 0.9rem;
            font-style: italic;
        }

        .visit-button {
            background: var(--primary);
            color: var(--background);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-family: var(--subtitle-font);
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .visit-button:hover:not(:disabled) {
            background: var(--accent);
            transform: translateY(-2px);
        }

        .visit-button:disabled {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-secondary);
            cursor: not-allowed;
        }

        .sub-location-card[data-visited="true"] {
            border-color: var(--accent);
            background: rgba(0, 184, 148, 0.05);
        }

        .sub-location-card[data-visited="true"] .sub-location-icon {
            background: var(--accent);
        }
    </style>
</head>

<body>
    <div class="travel-animation" id="travelAnimation">
        <div class="travel-content">
            <div class="travel-icon">✈️</div>
            <div class="travel-title">Viajando...</div>
            <div class="travel-details">
                <p id="travelFrom"></p>
                <p id="travelTo"></p>
            </div>
        </div>
    </div>

    <section class="hero">
        <div class="hero-content">
            <h1>Miranda San Francisco</h1>
            <p class="subtitle">Aprende mientras resuelves misterios</p>
            <div class="video-container">
                <iframe src="https://www.youtube.com/embed/dL-13NZAXuE" allowfullscreen></iframe>
            </div>
        </div>
    </section>

    <section class="features">
        <div class="features-grid">
            <div class="feature-card">
                <h3>Investigación Educativa</h3>
                <p>Los estudiantes se convierten en detectives que deben resolver misterios relacionados con la materia.
                    Cada caso está diseñado para cubrir objetivos específicos del currículo, desde matemáticas hasta
                    historia o ciencias naturales.</p>
            </div>
            <div class="feature-card">
                <h3>Resolución de Pistas</h3>
                <p>Analiza y conecta pistas que combinan diferentes áreas del conocimiento. Las pistas pueden ser desde
                    documentos históricos hasta problemas matemáticos o experimentos científicos. Cada pista acerca a
                    los estudiantes a la solución del caso.</p>
            </div>
            <div class="feature-card">
                <h3>Aprendizaje Cultural</h3>
                <p>Explora diferentes culturas y contextos históricos mientras viajas por el mundo. Cada ciudad tiene su
                    propia identidad y personajes únicos que ayudarán en la investigación. Desde la antigua Roma hasta
                    el Tokio moderno.</p>
            </div>
        </div>
    </section>

    <section class="characters">
        <div class="characters-container">
            <h2>Personajes del Juego</h2>

            <div class="characters-grid">
                <div class="character-card">
                    <h3>Miranda San Francisco</h3>
                    <p class="character-role">Jefa de los Ladrones</p>
                    <p>Una brillante criminal que lidera una red de ladrones especializados. Cada uno de sus secuaces es
                        experto en un área diferente, y juntos planean robos elaborados. Para atraparla, primero deberás
                        descubrir y detener a cada uno de sus secuaces, reuniendo las pistas que te llevarán hasta ella.
                    </p>
                </div>
                <div class="character-card">
                    <h3>El Jefe</h3>
                    <p class="character-role">Mentor</p>
                    <p>Director de ACME, una organización dedicada a resolver misterios educativos. Proporciona las
                        misiones iniciales y ofrece pistas cuando los estudiantes se quedan atascados. Su vasto
                        conocimiento es una valiosa fuente de información.</p>
                </div>
                <div class="character-card">
                    <h3>Los Ladrones</h3>
                    <p class="character-role">Antagonistas</p>
                    <p>Cada ladrón tiene una personalidad única y una especialidad distinta. Desde el "Genio de las
                        Matemáticas" hasta el "Maestro de la Historia", cada uno deja su propia firma en sus crímenes.
                        Los estudiantes deben aprender sus patrones y debilidades para atraparlos.</p>
                </div>
                <div class="character-card">
                    <h3>Personajes Locales</h3>
                    <p class="character-role">Aliados</p>
                    <p>En cada ciudad, los estudiantes encontrarán personajes únicos como científicos, historiadores,
                        matemáticos y expertos en diferentes campos. Cada uno tiene información valiosa que puede ayudar
                        en la investigación.</p>
                </div>
            </div>

            <h2 class="adventure-title">Tu Aventura Educativa</h2>

            <div class="character-selector">
                <select id="criminalSelect" class="character-select">
                    <option value="genio-matematico">El Genio de las Matemáticas</option>
                    <option value="maestro-historia">El Maestro de la Historia</option>
                    <option value="cientifico-loco">El Científico Loco</option>
                    <option value="falsificador-arte">El Falsificador de Arte</option>
                    <option value="hacker-creativo">El Hacker Creativo</option>
                    <option value="influencer-falso">La Influencer Falsa</option>
                    <option value="miranda">Miranda San Francisco</option>
                </select>
            </div>

            <div class="adventure-steps">
                <div class="steps-container">
                    <div class="step" id="step1">
                        <div class="step-number">01</div>
                        <div class="step-content">
                            <h3 id="step1Title">Inicio del Caso</h3>
                            <p id="step1Description">Recibe tu misión en la sede de ACME y analiza el primer informe.
                            </p>
                        </div>
                    </div>
                    <div class="step" id="step2">
                        <div class="step-number">02</div>
                        <div class="step-content">
                            <h3 id="step2Title">Recolección de Pistas</h3>
                            <p id="step2Description">En cada ciudad, visita diferentes ubicaciones para encontrar
                                pistas.</p>
                        </div>
                    </div>
                    <div class="step" id="step3">
                        <div class="step-number">03</div>
                        <div class="step-content">
                            <h3 id="step3Title">Análisis de Sospechosos</h3>
                            <p id="step3Description">Con cada pista que recopiles, podrás descartar sospechosos.</p>
                        </div>
                    </div>
                    <div class="step" id="step4">
                        <div class="step-number">04</div>
                        <div class="step-content">
                            <h3 id="step4Title">Orden de Detención</h3>
                            <p id="step4Description">Una vez que hayas reunido suficientes pruebas, podrás solicitar una
                                orden de detención.</p>
                        </div>
                    </div>
                    <div class="step" id="step5">
                        <div class="step-number">05</div>
                        <div class="step-content">
                            <h3 id="step5Title">Resolución</h3>
                            <p id="step5Description">Con la orden de detención en mano, deberás interceptar al ladrón.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="case-details" id="caseDetails">
                <h3 class="case-title">Detalles del Caso</h3>
                <div class="case-map">
                    <div class="locations-grid">
                        <!-- Las ubicaciones y pistas se cargarán dinámicamente -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="flow">
        <div class="flow-container">
            <div class="flow-step">
                <div class="step-number">01</div>
                <div class="step-content">
                    <h3>Inicio del Caso</h3>
                    <p>Recibe tu misión en la sede de ACME y analiza el primer informe. Cada caso comienza con una pista
                        que te llevará a una ciudad específica. Por ejemplo, un problema matemático podría indicar que
                        debes comenzar en El Cairo, donde se desarrolló el álgebra.</p>
                </div>
            </div>
            <div class="flow-step">
                <div class="step-number">02</div>
                <div class="step-content">
                    <h3>Recolección de Pistas</h3>
                    <p>En cada ciudad, visita diferentes ubicaciones como museos, bibliotecas, laboratorios o centros de
                        investigación. Habla con los personajes locales que pueden tener información valiosa. Por
                        ejemplo, un arqueólogo podría reconocer un artefacto histórico.</p>
                </div>
            </div>
            <div class="flow-step">
                <div class="step-number">03</div>
                <div class="step-content">
                    <h3>Análisis de Sospechosos</h3>
                    <p>Con cada pista que recopiles, podrás descartar sospechosos basándote en sus perfiles. El "Genio
                        de las Matemáticas" nunca cometería un robo en un museo de arte, mientras que el "Maestro de la
                        Historia" siempre deja pistas relacionadas con eventos históricos.</p>
                </div>
            </div>
            <div class="flow-step">
                <div class="step-number">04</div>
                <div class="step-content">
                    <h3>Orden de Detención</h3>
                    <p>Una vez que hayas reunido suficientes pruebas, podrás solicitar una orden de detención. Cada
                        ladrón tiene una debilidad única que debes descubrir. Por ejemplo, el "Genio de las Matemáticas"
                        siempre se delata cuando resuelve un problema complejo.</p>
                </div>
            </div>
            <div class="flow-step">
                <div class="step-number">05</div>
                <div class="step-content">
                    <h3>Resolución</h3>
                    <p>Con la orden de detención en mano, deberás interceptar al ladrón en su próxima ubicación. Usa tus
                        conocimientos para anticipar sus movimientos. ¿Se dirigirá al museo de ciencias o a la
                        biblioteca histórica?</p>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Animación de los pasos al hacer scroll
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, {
            threshold: 0.1
        });

        document.querySelectorAll('.flow-step').forEach(step => {
            observer.observe(step);
        });

        const adventureData = {
            "genio-matematico": {
                step1: {
                    title: "El Caso del Código Matemático",
                    description: "Un banco ha sido robado usando un sistema de seguridad basado en ecuaciones diferenciales. Miranda y el Jefe te asignan la misión de descifrar el código y encontrar al Genio de las Matemáticas."
                },
                step2: {
                    title: "Pistas Numéricas",
                    description: "Visita la biblioteca matemática y el observatorio astronómico. Los personajes locales te ayudarán a entender los patrones numéricos ocultos en los cálculos del ladrón."
                },
                step3: {
                    title: "Análisis de Patrones",
                    description: "El Genio de las Matemáticas siempre deja pistas basadas en la secuencia de Fibonacci. Analiza los patrones con la ayuda de los expertos locales."
                },
                step4: {
                    title: "La Ecuación Final",
                    description: "Resuelve una serie de ecuaciones diferenciales para predecir el próximo movimiento del ladrón. El Jefe revisará tus cálculos antes de autorizar la captura."
                },
                step5: {
                    title: "Captura Matemática",
                    description: "Usa tus habilidades matemáticas para anticipar la ruta de escape del Genio de las Matemáticas. Miranda te guiará en la operación final."
                }
            },
            "maestro-historia": {
                step1: {
                    title: "El Misterio del Artefacto Histórico",
                    description: "Un valioso artefacto histórico ha sido robado del museo. Miranda y el Jefe te asignan la misión de recuperarlo y atrapar al Maestro de la Historia."
                },
                step2: {
                    title: "Pistas Históricas",
                    description: "Explora museos y archivos históricos. Los personajes locales te ayudarán a entender el contexto histórico de los artefactos robados."
                },
                step3: {
                    title: "Análisis de Patrones Históricos",
                    description: "El Maestro de la Historia siempre deja pistas basadas en eventos históricos específicos. Analiza los patrones con la ayuda de los expertos."
                },
                step4: {
                    title: "La Evidencia Histórica",
                    description: "Reúne pruebas que demuestren cómo el ladrón está utilizando su conocimiento histórico para sus robos. El Jefe revisará tu investigación."
                },
                step5: {
                    title: "Resolución Histórica",
                    description: "Usa tu conocimiento histórico para predecir dónde el Maestro de la Historia intentará vender el artefacto. Miranda coordinará la operación final."
                }
            },
            "cientifico-loco": {
                step1: {
                    title: "El Caso del Experimento Robado",
                    description: "Un experimento científico revolucionario ha sido robado. Miranda y el Jefe te asignan la misión de recuperarlo y detener al Científico Loco."
                },
                step2: {
                    title: "Pistas Científicas",
                    description: "Investiga laboratorios y centros de investigación. Los personajes locales te ayudarán a entender los principios científicos involucrados."
                },
                step3: {
                    title: "Análisis de Patrones Científicos",
                    description: "El Científico Loco siempre deja pistas basadas en experimentos fallidos. Analiza los patrones con la ayuda de los expertos."
                },
                step4: {
                    title: "La Evidencia Científica",
                    description: "Reúne pruebas que demuestren cómo el ladrón está utilizando la ciencia para sus robos. El Jefe revisará tu investigación."
                },
                step5: {
                    title: "Resolución Científica",
                    description: "Usa tu conocimiento científico para predecir el próximo experimento del Científico Loco. Miranda coordinará la operación final."
                }
            },
            "falsificador-arte": {
                step1: {
                    title: "El Misterio de la Obra Maestra",
                    description: "Una obra de arte invaluable ha sido robada y reemplazada por una falsificación. Miranda y el Jefe te asignan la misión de recuperar la original."
                },
                step2: {
                    title: "Pistas Artísticas",
                    description: "Explora galerías y estudios de arte. Los personajes locales te ayudarán a identificar las diferencias entre la obra original y la falsificación."
                },
                step3: {
                    title: "Análisis de Patrones Artísticos",
                    description: "El Falsificador de Arte siempre deja pistas en sus imitaciones. Analiza los patrones con la ayuda de los expertos."
                },
                step4: {
                    title: "La Evidencia Artística",
                    description: "Reúne pruebas que demuestren la autenticidad de la obra original. El Jefe revisará tu investigación."
                },
                step5: {
                    title: "Resolución Artística",
                    description: "Usa tu conocimiento del arte para predecir dónde el Falsificador intentará vender la obra original. Miranda coordinará la operación final."
                }
            },
            "hacker-creativo": {
                step1: {
                    title: "El Caso del Juego Robado",
                    description: "Un videojuego educativo ha sido hackeado y sus niveles están desordenados. Miranda y el Jefe te asignan la misión de recuperar el código original y atrapar al Hacker Creativo."
                },
                step2: {
                    title: "Pistas Digitales",
                    description: "Explora el mundo virtual del juego. Los personajes locales te ayudarán a entender los patrones de programación y las pistas digitales dejadas por el hacker."
                },
                step3: {
                    title: "Análisis de Código",
                    description: "El Hacker Creativo siempre deja mensajes ocultos en el código. Analiza los patrones con la ayuda de los expertos en programación."
                },
                step4: {
                    title: "La Evidencia Digital",
                    description: "Reúne pruebas que demuestren cómo el hacker está utilizando sus conocimientos de programación. El Jefe revisará tu investigación."
                },
                step5: {
                    title: "Resolución Digital",
                    description: "Usa tus habilidades de programación para restaurar el juego y atrapar al Hacker Creativo. Miranda coordinará la operación final."
                }
            },
            "influencer-falso": {
                step1: {
                    title: "El Caso de las Fotos Falsas",
                    description: "Una influencer está publicando fotos falsas de lugares históricos. Miranda y el Jefe te asignan la misión de descubrir la verdad y detener a la Influencer Falsa."
                },
                step2: {
                    title: "Pistas en Redes Sociales",
                    description: "Investiga en las redes sociales. Los personajes locales te ayudarán a identificar las imágenes falsas y los lugares reales."
                },
                step3: {
                    title: "Análisis de Contenido Digital",
                    description: "La Influencer Falsa siempre deja pistas en sus publicaciones. Analiza los patrones con la ayuda de los expertos en medios digitales."
                },
                step4: {
                    title: "La Evidencia Digital",
                    description: "Reúne pruebas que demuestren cómo la influencer está manipulando las imágenes. El Jefe revisará tu investigación."
                },
                step5: {
                    title: "Resolución Digital",
                    description: "Usa tus habilidades de análisis digital para exponer la verdad. Miranda coordinará la operación final."
                }
            },
            "miranda": {
                step1: {
                    title: "El Caso Final",
                    description: "Después de capturar a todos los secuaces de Miranda, es hora de reunir todas las pistas y atrapar a la jefa de la organización criminal. Cada caso resuelto ha dejado una pieza del rompecabezas que te llevará hasta ella."
                },
                step2: {
                    title: "Análisis de Patrones",
                    description: "En el Cuartel General de ACME, analiza los patrones en los crímenes de cada secuaz. Cada uno fue elegido por Miranda por su especialidad única, y sus crímenes forman parte de un plan mayor."
                },
                step3: {
                    title: "Conexiones Ocultas",
                    description: "En el Archivo de Casos Resueltos, busca conexiones entre los diferentes casos. Las ubicaciones de los crímenes forman un patrón que revela la ubicación del cuartel general de Miranda."
                },
                step4: {
                    title: "El Plan Maestro",
                    description: "En el Centro de Operaciones, descifra los mensajes entre Miranda y sus secuaces. Aquí encontrarás documentos que detallan su estrategia completa y planes futuros."
                },
                step5: {
                    title: "La Captura",
                    description: "En el Escondite Final, confronta a Miranda. Su diario personal y plan de escape revelarán sus motivaciones y planes más ambiciosos. Es el momento de poner fin a su red criminal."
                }
            }
        };

        function updateAdventureSteps() {
            const criminal = document.getElementById('criminalSelect').value;
            const data = adventureData[criminal];

            for (let i = 1; i <= 5; i++) {
                const step = data[`step${i}`];
                document.getElementById(`step${i}Title`).textContent = step.title;
                document.getElementById(`step${i}Description`).textContent = step.description;
            }
        }

        document.getElementById('criminalSelect').addEventListener('change', updateAdventureSteps);

        // Inicializar con los valores por defecto
        updateAdventureSteps();

        const caseDetails = {
            "genio-matematico": {
                startingLocation: {
                    city: "San Francisco",
                    country: "Estados Unidos",
                    year: 2024,
                    description: "El cuartel general de ACME, donde recibirás tu misión inicial."
                },
                locations: [
                    {
                        name: "Biblioteca Matemática",
                        city: "El Cairo",
                        country: "Egipto",
                        year: 2024,
                        description: "Aquí encontrarás libros antiguos sobre matemáticas y patrones numéricos. El Genio dejó una secuencia de Fibonacci en los márgenes de varios libros.",
                        subLocations: [
                            {
                                name: "Sala de Manuscritos Antiguos",
                                description: "Una colección de textos matemáticos antiguos.",
                                clue: "En un manuscrito sobre la secuencia de Fibonacci, hay números adicionales escritos en los márgenes.",
                                requiredVisits: 1
                            },
                            {
                                name: "Archivo de Astronomía",
                                description: "Documentos sobre cálculos astronómicos antiguos.",
                                clue: "Los cálculos de las posiciones planetarias contienen patrones numéricos inusuales.",
                                requiredVisits: 1
                            },
                            {
                                name: "Biblioteca Digital",
                                description: "Acceso a bases de datos matemáticas modernas.",
                                clue: "Hay registros de búsquedas recientes sobre patrones numéricos en la naturaleza.",
                                requiredVisits: 1
                            }
                        ],
                        witness: {
                            name: "La Bibliotecaria",
                            testimony: "Vi a alguien estudiando patrones numéricos en la sección de astronomía. Dijo que necesitaba calcular la posición exacta de las estrellas para su próximo objetivo. Mencionó que estaba interesado en la astronomía antigua y que necesitaba visitar un lugar donde pudiera ver las estrellas con más claridad.",
                            clues: [
                                "Mencionó algo sobre coordenadas estelares",
                                "Llevaba un libro sobre astronomía antigua",
                                "Hablaba de cálculos precisos",
                                "Mencionó el nombre de Miranda varias veces"
                            ],
                            nextLocation: "Observatorio Astronómico",
                            options: [
                                {
                                    name: "Observatorio Astronómico",
                                    city: "Atenas",
                                    country: "Grecia",
                                    year: 2024,
                                    description: "Un lugar perfecto para estudiar las estrellas y sus patrones",
                                    isCorrect: true
                                },
                                {
                                    name: "Cuartel General de ACME",
                                    city: "San Francisco",
                                    country: "Estados Unidos",
                                    year: 2024,
                                    description: "Volver al punto de partida para revisar la información inicial",
                                    isCorrect: false
                                },
                                {
                                    name: "Biblioteca de Música",
                                    city: "Viena",
                                    country: "Austria",
                                    year: 2024,
                                    description: "Donde se estudian los patrones matemáticos en la música",
                                    isCorrect: false
                                }
                            ]
                        }
                    },
                    {
                        name: "Observatorio Astronómico",
                        city: "Atenas",
                        country: "Grecia",
                        year: 2024,
                        description: "Los cálculos astronómicos contienen pistas sobre el próximo objetivo del Genio. Busca patrones en las coordenadas estelares.",
                        subLocations: [
                            {
                                name: "Cúpula Principal",
                                description: "El telescopio principal del observatorio.",
                                clue: "Los registros de observación muestran cálculos inusuales en las coordenadas estelares.",
                                requiredVisits: 1
                            },
                            {
                                name: "Sala de Cálculos",
                                description: "Donde se procesan los datos astronómicos.",
                                clue: "Hay ecuaciones complejas escritas en las pizarras que no corresponden a cálculos astronómicos normales.",
                                requiredVisits: 1
                            },
                            {
                                name: "Archivo Histórico",
                                description: "Registros de observaciones pasadas.",
                                clue: "Alguien ha estado consultando registros antiguos sobre patrones matemáticos en las constelaciones.",
                                requiredVisits: 1
                            }
                        ],
                        witness: {
                            name: "El Astrónomo",
                            testimony: "Un visitante estaba muy interesado en los patrones matemáticos de las constelaciones. Dijo que necesitaba entender cómo los antiguos calculaban las posiciones de los planetas. Mencionó que estaba fascinado por la geometría antigua y que necesitaba visitar un lugar donde pudiera estudiar los patrones matemáticos en la naturaleza.",
                            clues: [
                                "Estudió los cálculos de Ptolomeo",
                                "Se interesó por los instrumentos de medición",
                                "Habló de geometría esférica",
                                "Mencionó que Miranda le había dado instrucciones específicas"
                            ],
                            nextLocation: "Centro de Investigación Matemática",
                            options: [
                                {
                                    name: "Centro de Investigación Matemática",
                                    city: "Roma",
                                    country: "Italia",
                                    year: 2024,
                                    description: "Donde se estudian los patrones matemáticos en la naturaleza",
                                    isCorrect: true
                                },
                                {
                                    name: "Biblioteca Matemática",
                                    city: "El Cairo",
                                    country: "Egipto",
                                    year: 2024,
                                    description: "Volver a revisar los manuscritos antiguos",
                                    isCorrect: false
                                },
                                {
                                    name: "Planetario",
                                    city: "Berlín",
                                    country: "Alemania",
                                    year: 2024,
                                    description: "Donde se simulan los movimientos celestes",
                                    isCorrect: false
                                }
                            ]
                        }
                    },
                    {
                        name: "Centro de Investigación Matemática",
                        city: "Roma",
                        country: "Italia",
                        year: 2024,
                        description: "Los investigadores han notado anomalías en sus cálculos. El Genio ha modificado algunas ecuaciones clave.",
                        subLocations: [
                            {
                                name: "Laboratorio de Patrones",
                                description: "Donde se estudian los patrones matemáticos en la naturaleza.",
                                clue: "Hay notas sobre la proporción áurea y su presencia en la naturaleza.",
                                requiredVisits: 1
                            },
                            {
                                name: "Sala de Fractales",
                                description: "Centro de estudio de patrones fractales.",
                                clue: "Se han realizado cálculos sobre espirales y patrones de crecimiento natural.",
                                requiredVisits: 1
                            },
                            {
                                name: "Archivo de Investigación",
                                description: "Registros de estudios matemáticos.",
                                clue: "Hay documentos sobre la aplicación de patrones matemáticos en el arte.",
                                requiredVisits: 1
                            }
                        ],
                        witness: {
                            name: "La Investigadora",
                            testimony: "Alguien accedió a nuestros sistemas y modificó las ecuaciones de los patrones naturales. Dijo que necesitaba entender cómo las matemáticas se manifiestan en la naturaleza. Mencionó que estaba interesado en cómo estos patrones se relacionan con el arte y la belleza.",
                            clues: [
                                "Modificó ecuaciones sobre patrones naturales",
                                "Dejó notas sobre la proporción áurea",
                                "Interesado en fractales y espirales",
                                "Mencionó que Miranda le había dado acceso a sistemas restringidos"
                            ],
                            nextLocation: "Museo de la Ciencia",
                            options: [
                                {
                                    name: "Museo de la Ciencia",
                                    city: "Tokio",
                                    country: "Japón",
                                    year: 2024,
                                    description: "Donde se exhiben los patrones matemáticos en la naturaleza",
                                    isCorrect: true
                                },
                                {
                                    name: "Observatorio Astronómico",
                                    city: "Atenas",
                                    country: "Grecia",
                                    year: 2024,
                                    description: "Volver a revisar los cálculos astronómicos",
                                    isCorrect: false
                                },
                                {
                                    name: "Biblioteca de Física",
                                    city: "Moscú",
                                    country: "Rusia",
                                    year: 2024,
                                    description: "Donde se estudian las leyes del universo",
                                    isCorrect: false
                                }
                            ]
                        }
                    },
                    {
                        name: "Museo de la Ciencia",
                        city: "Tokio",
                        country: "Japón",
                        year: 2024,
                        description: "Una exhibición sobre patrones matemáticos en la naturaleza contiene pistas ocultas en sus diagramas.",
                        subLocations: [
                            {
                                name: "Galería de Patrones Naturales",
                                description: "Exhibición de patrones matemáticos en la naturaleza.",
                                clue: "Hay notas sobre la relación entre matemáticas y arte.",
                                requiredVisits: 1
                            },
                            {
                                name: "Sala de Espirales",
                                description: "Exhibición dedicada a los patrones espirales en la naturaleza.",
                                clue: "Se han realizado mediciones precisas de espirales naturales.",
                                requiredVisits: 1
                            },
                            {
                                name: "Laboratorio Interactivo",
                                description: "Donde los visitantes pueden experimentar con patrones matemáticos.",
                                clue: "Hay registros de cálculos sobre la belleza matemática en el arte.",
                                requiredVisits: 1
                            }
                        ],
                        witness: {
                            name: "El Curador",
                            testimony: "Un visitante pasó horas estudiando nuestra exhibición de patrones matemáticos en la naturaleza. Dijo que necesitaba entender cómo estos patrones se relacionan con el arte. Mencionó que estaba buscando un lugar donde pudiera ver cómo las matemáticas se manifiestan en obras de arte contemporáneas.",
                            clues: [
                                "Se interesó por la sección de arte y matemáticas",
                                "Tomó fotos de los diagramas de espirales",
                                "Habló de la belleza de los patrones matemáticos",
                                "Dijo que Miranda le había dado un plazo límite"
                            ],
                            nextLocation: "Galería de Arte",
                            options: [
                                {
                                    name: "Galería de Arte",
                                    city: "Barcelona",
                                    country: "España",
                                    year: 2024,
                                    description: "Donde se exhiben obras basadas en patrones matemáticos",
                                    isCorrect: true
                                },
                                {
                                    name: "Centro de Investigación Matemática",
                                    city: "Roma",
                                    country: "Italia",
                                    year: 2024,
                                    description: "Volver a revisar los patrones matemáticos",
                                    isCorrect: false
                                },
                                {
                                    name: "Museo de Historia Natural",
                                    city: "Madrid",
                                    country: "España",
                                    year: 2024,
                                    description: "Donde se estudian los patrones en la naturaleza",
                                    isCorrect: false
                                }
                            ]
                        }
                    },
                    {
                        name: "Galería de Arte",
                        city: "Barcelona",
                        country: "España",
                        year: 2024,
                        description: "El Genio de las Matemáticas ha sido encontrado intentando robar una obra de arte basada en la secuencia de Fibonacci.",
                        witness: {
                            name: "El Guardia de Seguridad",
                            testimony: "¡Lo hemos atrapado! Estaba intentando desmontar la obra 'Espiral de Fibonacci' de la pared. Tenía todos sus cálculos y herramientas matemáticas con él. Dijo que Miranda le había prometido una fortuna por esta obra en particular.",
                            clues: [
                                "Llevaba una calculadora científica",
                                "Tenía notas con ecuaciones complejas",
                                "Intentaba descifrar el código de seguridad",
                                "En sus notas había referencias a otros secuaces de Miranda"
                            ],
                            nextLocation: "Detención",
                            options: [
                                {
                                    name: "Detener al Ladrón",
                                    description: "Has reunido suficientes pruebas para realizar la detención",
                                    isCorrect: true
                                },
                                {
                                    name: "Buscar más pistas",
                                    description: "Podría haber más evidencia en la galería",
                                    isCorrect: false
                                },
                                {
                                    name: "Llamar a refuerzos",
                                    description: "Es mejor esperar a que llegue más personal",
                                    isCorrect: false
                                }
                            ]
                        }
                    }
                ]
            },
            "maestro-historia": {
                locations: [
                    {
                        name: "Museo de Historia Antigua",
                        description: "El artefacto robado estaba en exhibición aquí. Busca pistas en los registros de visitantes y las notas del curador.",
                        witness: {
                            name: "El Curador del Museo",
                            testimony: "Un visitante muy interesado en la historia antigua pasó horas estudiando nuestros artefactos. Dijo que necesitaba entender las técnicas de fabricación antiguas.",
                            clues: [
                                "Se interesó por los métodos de datación",
                                "Estudió los registros de procedencia",
                                "Habló de técnicas de conservación"
                            ],
                            nextLocation: "Archivo Histórico"
                        }
                    },
                    {
                        name: "Archivo Histórico",
                        description: "Documentos antiguos contienen referencias al artefacto y su importancia histórica.",
                        witness: {
                            name: "La Archivista",
                            testimony: "Alguien consultó documentos sobre el comercio antiguo y las rutas de intercambio cultural. Dijo que necesitaba entender cómo los artefactos viajaban entre civilizaciones.",
                            clues: [
                                "Estudió mapas de rutas comerciales antiguas",
                                "Se interesó por los registros de aduanas",
                                "Habló de intercambios culturales"
                            ],
                            nextLocation: "Biblioteca de Arqueología"
                        }
                    },
                    {
                        name: "Biblioteca de Arqueología",
                        description: "Los mapas antiguos podrían revelar la ubicación de otros artefactos similares."
                    },
                    {
                        name: "Centro de Restauración",
                        description: "Los expertos en restauración tienen información sobre las técnicas antiguas usadas en el artefacto."
                    }
                ],
                clues: [
                    {
                        type: "Histórico",
                        title: "Registros Antiguos",
                        description: "Documentos que detallan la historia del artefacto y su importancia cultural."
                    },
                    {
                        type: "Arqueológico",
                        title: "Mapas Antiguos",
                        description: "Mapas que muestran la ubicación de sitios históricos relevantes."
                    },
                    {
                        type: "Cultural",
                        title: "Símbolos Antiguos",
                        description: "Símbolos tallados en el artefacto que podrían indicar su origen."
                    },
                    {
                        type: "Técnico",
                        title: "Técnicas de Fabricación",
                        description: "Información sobre cómo se fabricó el artefacto y sus materiales."
                    }
                ]
            },
            "hacker-creativo": {
                locations: [
                    {
                        name: "Centro de Desarrollo de Juegos",
                        description: "El servidor principal del juego fue hackeado aquí. Busca pistas en los registros del sistema.",
                        clues: [
                            {
                                type: "Digital",
                                title: "Registros del Sistema",
                                description: "Logs que muestran cuándo y cómo se realizó el hack."
                            },
                            {
                                type: "Seguridad",
                                title: "Vulnerabilidades",
                                description: "Información sobre posibles fallos de seguridad en el sistema."
                            }
                        ]
                    },
                    {
                        name: "Café de Programadores",
                        description: "Un lugar donde los desarrolladores se reúnen. Alguien podría haber visto algo sospechoso.",
                        clues: [
                            {
                                type: "Social",
                                title: "Testimonios",
                                description: "Declaraciones de programadores que notaron comportamientos extraños."
                            },
                            {
                                type: "Digital",
                                title: "Código en la Red",
                                description: "Fragmentos de código compartidos en la red local del café."
                            }
                        ]
                    },
                    {
                        name: "Biblioteca Digital",
                        description: "Contiene recursos sobre programación y seguridad informática que podrían ayudar a entender el hack.",
                        clues: [
                            {
                                type: "Educativo",
                                title: "Manuales de Programación",
                                description: "Libros que contienen anotaciones sobre técnicas de hacking."
                            },
                            {
                                type: "Digital",
                                title: "Archivos Modificados",
                                description: "Documentos digitales que han sido alterados para contener pistas."
                            }
                        ]
                    },
                    {
                        name: "Foro de Gamers",
                        description: "Los jugadores han reportado anomalías en el juego que podrían ser pistas.",
                        clues: [
                            {
                                type: "Comunidad",
                                title: "Reportes de Jugadores",
                                description: "Testimonios de jugadores sobre anomalías en el juego."
                            },
                            {
                                type: "Técnico",
                                title: "Bugs Intencionales",
                                description: "Errores en el juego que parecen haber sido dejados a propósito."
                            }
                        ]
                    }
                ]
            },
            "influencer-falso": {
                locations: [
                    {
                        name: "Estudio de Fotografía",
                        description: "Donde se editan las fotos falsas. Busca pistas en los archivos de edición.",
                        clues: [
                            {
                                type: "Digital",
                                title: "Metadatos de Imágenes",
                                description: "Información técnica que puede revelar si una foto fue manipulada."
                            },
                            {
                                type: "Técnico",
                                title: "Historial de Edición",
                                description: "Registro de las modificaciones realizadas a las imágenes."
                            }
                        ]
                    },
                    {
                        name: "Centro de Medios Digitales",
                        description: "Expertos en verificación de contenido pueden ayudar a identificar imágenes manipuladas.",
                        clues: [
                            {
                                type: "Técnico",
                                title: "Análisis de Imágenes",
                                description: "Reportes técnicos sobre la autenticidad de las fotos."
                            },
                            {
                                type: "Digital",
                                title: "Patrones de Edición",
                                description: "Técnicas de edición utilizadas consistentemente en las fotos."
                            }
                        ]
                    },
                    {
                        name: "Biblioteca de Imágenes",
                        description: "Contiene las fotos originales que fueron manipuladas.",
                        clues: [
                            {
                                type: "Visual",
                                title: "Comparación de Imágenes",
                                description: "Diferencias entre las fotos originales y las publicadas."
                            },
                            {
                                type: "Temporal",
                                title: "Línea de Tiempo",
                                description: "Registro de cuándo se tomaron y publicaron las fotos."
                            }
                        ]
                    },
                    {
                        name: "Foro de Viajeros",
                        description: "Los viajeros reales pueden confirmar si las ubicaciones mostradas son auténticas.",
                        clues: [
                            {
                                type: "Geográfico",
                                title: "Ubicaciones Reales",
                                description: "Comparación entre las fotos publicadas y las ubicaciones reales."
                            },
                            {
                                type: "Social",
                                title: "Testimonios",
                                description: "Declaraciones de personas que conocen los lugares reales."
                            }
                        ]
                    }
                ]
            },
            "miranda": {
                locations: [
                    {
                        name: "Cuartel General de ACME",
                        description: "Aquí se reúnen todas las pistas recopiladas de los casos anteriores. Cada secuaz capturado ha dejado una pieza del rompecabezas que te llevará hasta Miranda.",
                        clues: [
                            {
                                type: "Estratégico",
                                title: "Patrón de Operaciones",
                                description: "Cada secuaz fue elegido por Miranda por su especialidad única. Sus crímenes forman parte de un plan mayor."
                            },
                            {
                                type: "Temporal",
                                title: "Cronología de Eventos",
                                description: "Los crímenes de los secuaces ocurrieron en un orden específico, siguiendo un plan cuidadosamente orquestado por Miranda."
                            }
                        ]
                    },
                    {
                        name: "Archivo de Casos Resueltos",
                        description: "Los patrones en los crímenes de cada secuaz revelan la estrategia maestra de Miranda. Busca conexiones entre los diferentes casos.",
                        clues: [
                            {
                                type: "Geográfico",
                                title: "Red de Operaciones",
                                description: "Las ubicaciones de los crímenes forman un patrón que revela la ubicación del cuartel general de Miranda."
                            },
                            {
                                type: "Personal",
                                title: "Perfil Criminal",
                                description: "Las pistas recopiladas de cada secuaz revelan la personalidad y métodos de Miranda, permitiendo predecir sus próximos movimientos."
                            }
                        ]
                    },
                    {
                        name: "Centro de Operaciones",
                        description: "El lugar donde Miranda coordina todos sus planes. Las pistas de sus secuaces te han llevado hasta aquí.",
                        clues: [
                            {
                                type: "Digital",
                                title: "Comunicaciones",
                                description: "Mensajes cifrados entre Miranda y sus secuaces que revelan su próximo objetivo."
                            },
                            {
                                type: "Estratégico",
                                title: "Plan Maestro",
                                description: "Documentos que detallan la estrategia completa de Miranda y sus planes futuros."
                            }
                        ]
                    },
                    {
                        name: "Escondite Final",
                        description: "El último refugio de Miranda, donde guarda sus planes más ambiciosos. Todas las pistas anteriores convergen en este lugar.",
                        clues: [
                            {
                                type: "Personal",
                                title: "Diario Personal",
                                description: "El diario de Miranda revela sus motivaciones y planes más ambiciosos."
                            },
                            {
                                type: "Estratégico",
                                title: "Plan de Escape",
                                description: "Documentos que detallan cómo Miranda planeaba escapar después de completar su misión."
                            }
                        ]
                    }
                ]
            }
        };

        const wrongLocationResponses = {
            "genio-matematico": {
                "Museo de Arte": {
                    name: "El Curador de Arte",
                    testimony: "Lo siento, no he visto a nadie con interés en matemáticas por aquí. La mayoría de nuestros visitantes están interesados en el arte y la estética, no en cálculos o ecuaciones.",
                    clues: [
                        "Nadie ha estado estudiando patrones matemáticos",
                        "No hay registros de visitantes con calculadoras",
                        "Las obras de arte no muestran signos de análisis matemático"
                    ]
                },
                "Biblioteca de Música": {
                    name: "El Bibliotecario Musical",
                    testimony: "Aunque la música tiene elementos matemáticos, no hemos visto a nadie estudiando patrones numéricos complejos. Los visitantes suelen estar más interesados en la teoría musical.",
                    clues: [
                        "Nadie ha consultado libros sobre matemáticas",
                        "No hay registros de cálculos matemáticos",
                        "Los patrones musicales no han sido analizados"
                    ]
                },
                "Planetario": {
                    name: "El Astrónomo del Planetario",
                    testimony: "Nuestro planetario se enfoca en la divulgación astronómica, no en cálculos matemáticos complejos. No hemos visto a nadie realizando cálculos avanzados.",
                    clues: [
                        "Las presentaciones son para público general",
                        "No hay registros de cálculos matemáticos",
                        "Los visitantes no suelen traer calculadoras"
                    ]
                },
                "Museo de Instrumentos Científicos": {
                    name: "El Conservador",
                    testimony: "Aunque tenemos instrumentos matemáticos antiguos, nadie ha estado estudiando sus principios matemáticos. Los visitantes suelen estar más interesados en su valor histórico.",
                    clues: [
                        "Los instrumentos no han sido manipulados",
                        "No hay registros de cálculos matemáticos",
                        "Nadie ha consultado los manuales técnicos"
                    ]
                },
                "Centro de Computación": {
                    name: "El Administrador de Sistemas",
                    testimony: "Nuestros sistemas están enfocados en procesamiento de datos general, no en cálculos matemáticos complejos. No hemos detectado actividad sospechosa.",
                    clues: [
                        "No hay registros de cálculos matemáticos",
                        "Los sistemas no han sido accedidos por matemáticos",
                        "No se han ejecutado programas matemáticos complejos"
                    ]
                }
            }
        };

        function selectLocation(locationIndex, locationName, isCorrect) {
            const criminal = document.getElementById('criminalSelect').value;
            const currentLocation = document.getElementById(`location-${locationIndex}`);
            const travelAnimation = document.getElementById('travelAnimation');
            const travelFrom = document.getElementById('travelFrom');
            const travelTo = document.getElementById('travelTo');

            // Verificar que tenemos los datos necesarios
            if (!currentLocation || !criminal || !caseDetails[criminal]) {
                console.error('Elementos necesarios no encontrados');
                return;
            }

            // Obtener los datos de la ubicación actual
            const currentLocationData = caseDetails[criminal].locations[locationIndex];
            if (!currentLocationData) {
                console.error('Datos de la ubicación actual no encontrados');
                return;
            }

            if (isCorrect) {
                // Obtener información de la siguiente ubicación
                const nextLocationData = caseDetails[criminal].locations[parseInt(locationIndex) + 1];

                // Mostrar animación de viaje
                if (nextLocationData) {
                    travelFrom.textContent = `Desde: ${currentLocationData.city}, ${currentLocationData.country}`;
                    travelTo.textContent = `Hacia: ${nextLocationData.city}, ${nextLocationData.country}`;
                    travelAnimation.classList.add('active');

                    // Ocultar animación después de 2 segundos
                    setTimeout(() => {
                        travelAnimation.classList.remove('active');
                        // Mostrar la siguiente ubicación
                        const nextLocation = document.getElementById(`location-${parseInt(locationIndex) + 1}`);
                        if (nextLocation) {
                            nextLocation.style.display = 'block';
                            nextLocation.scrollIntoView({ behavior: 'smooth' });
                        }
                    }, 2000);
                } else {
                    // Mensaje especial para la detención
                    if (locationName === "Detener al Ladrón") {
                        const caseDetails = document.querySelector('.case-details');
                        if (caseDetails) {
                            const victoryMessage = document.createElement('div');
                            victoryMessage.className = 'victory-message';
                            victoryMessage.innerHTML = `
                                <div class="victory-icon">🎯</div>
                                <div class="victory-title">¡MISIÓN CUMPLIDA!</div>
                                <div class="victory-subtitle">Has detenido al Genio de las Matemáticas</div>
                                <div class="victory-details">
                                    Cada secuaz capturado te acerca un paso más a encontrar a Miranda San Francisco,<br>
                                    la jefa de la organización criminal.
                                </div>
                            `;
                            caseDetails.appendChild(victoryMessage);
                        }
                    }
                }
            } else {
                // Verificar que tenemos los datos necesarios para la ubicación incorrecta
                if (!wrongLocationResponses[criminal] || !wrongLocationResponses[criminal][locationName]) {
                    console.error('Datos de ubicación incorrecta no encontrados');
                    return;
                }

                const wrongLocationCard = document.createElement('div');
                wrongLocationCard.className = 'location-card';
                wrongLocationCard.id = `location-${locationIndex}`;
                wrongLocationCard.innerHTML = `
                    <div class="location-header">
                        <div class="location-icon">❌</div>
                        <h5>${locationName}</h5>
                    </div>
                    <p class="location-description">Has llegado a una ubicación incorrecta. El testigo local tiene información que te ayudará a entender por qué este no es el lugar correcto.</p>
                    <div class="witness-section">
                        <h6>Testimonio del Testigo:</h6>
                        <div class="witness-card">
                            <h5>${wrongLocationResponses[criminal][locationName].name}</h5>
                            <p class="witness-testimony">${wrongLocationResponses[criminal][locationName].testimony}</p>
                            <div class="clues-section">
                                <h6>Pistas del Testigo:</h6>
                                <ul class="clues-list">
                                    ${wrongLocationResponses[criminal][locationName].clues.map(clue => `
                                        <li>${clue}</li>
                                    `).join('')}
                                </ul>
                            </div>
                            <div class="next-location">
                                <h6>¿A dónde irás ahora?</h6>
                                <div class="location-options" id="options-${locationIndex}">
                                    ${shuffleArray(currentLocationData.witness.options).map(option => `
                                        <div class="location-option ${option.isCorrect ? 'correct' : 'incorrect'}" 
                                             data-location="${option.name}"
                                             data-city="${option.city}"
                                             data-country="${option.country}"
                                             data-year="${option.year}"
                                             data-correct="${option.isCorrect}">
                                            <h6>${option.name}</h6>
                                            <p>${option.description}</p>
                                            <div class="location-info">
                                                <p><strong>Ciudad:</strong> ${option.city}</p>
                                                <p><strong>País:</strong> ${option.country}</p>
                                                <p><strong>Año:</strong> ${option.year}</p>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    </div>
                `;

                // Reemplazar la ubicación actual con la incorrecta
                currentLocation.parentNode.replaceChild(wrongLocationCard, currentLocation);
                wrongLocationCard.scrollIntoView({ behavior: 'smooth' });

                // Añadir event listeners a las nuevas opciones
                const options = wrongLocationCard.querySelectorAll('.location-option');
                options.forEach(option => {
                    option.addEventListener('click', function() {
                        const locationName = this.getAttribute('data-location');
                        const isCorrect = this.getAttribute('data-correct') === 'true';
                        selectLocation(locationIndex, locationName, isCorrect);
                    });
                });
            }
        }

        function updateCaseDetails() {
            const criminal = document.getElementById('criminalSelect').value;
            const data = caseDetails[criminal];

            // Verificar que tenemos los datos necesarios
            if (!data || !data.locations) {
                console.error('Datos del caso no encontrados');
                return;
            }

            // Actualizar ubicaciones y sus pistas
            const locationsGrid = document.querySelector('.locations-grid');
            if (!locationsGrid) {
                console.error('Contenedor de ubicaciones no encontrado');
                return;
            }

            // Añadir la ubicación inicial
            locationsGrid.innerHTML = `
                <div class="location-card" id="location-start">
                    <div class="location-header">
                        <div class="location-icon">🏢</div>
                        <h5>Cuartel General de ACME</h5>
                    </div>
                    <p class="location-description">${data.startingLocation.description}</p>
                    <div class="location-info">
                        <p><strong>Ciudad:</strong> ${data.startingLocation.city}</p>
                        <p><strong>País:</strong> ${data.startingLocation.country}</p>
                        <p><strong>Año:</strong> ${data.startingLocation.year}</p>
                    </div>
                    <div class="next-location">
                        <h6>¿A dónde irás ahora?</h6>
                        <div class="location-options" id="options-start">
                            ${shuffleArray(data.locations[0].witness.options).map(option => `
                                <div class="location-option ${option.isCorrect ? 'correct' : 'incorrect'}" 
                                     data-location="${option.name}"
                                     data-city="${option.city}"
                                     data-country="${option.country}"
                                     data-year="${option.year}"
                                     data-correct="${option.isCorrect}">
                                    <h6>${option.name}</h6>
                                    <p>${option.description}</p>
                                    <div class="location-info">
                                        <p><strong>Ciudad:</strong> ${option.city}</p>
                                        <p><strong>País:</strong> ${option.country}</p>
                                        <p><strong>Año:</strong> ${option.year}</p>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;

            // Añadir el resto de las ubicaciones
            data.locations.forEach((location, index) => {
                const locationCard = document.createElement('div');
                locationCard.className = 'location-card';
                locationCard.id = `location-${index}`;
                locationCard.style.display = 'none';
                
                // Crear el HTML para las sububicaciones
                const subLocationsHTML = location.subLocations ? `
                    <div class="sub-locations">
                        <h6>Ubicaciones a visitar:</h6>
                        <div class="sub-locations-grid">
                            ${location.subLocations.map((subLoc, subIndex) => `
                                <div class="sub-location-card" id="sub-location-${index}-${subIndex}" data-visited="false">
                                    <div class="sub-location-header">
                                        <div class="sub-location-icon">${subIndex + 1}</div>
                                        <h6>${subLoc.name}</h6>
                                    </div>
                                    <p class="sub-location-description">${subLoc.description}</p>
                                    <div class="sub-location-clue" style="display: none;">
                                        <h6>Pista encontrada:</h6>
                                        <p>${subLoc.clue}</p>
                                    </div>
                                    <button class="visit-button" onclick="visitSubLocation(${index}, ${subIndex})">
                                        Visitar ubicación
                                    </button>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                ` : '';

                locationCard.innerHTML = `
                    <div class="location-header">
                        <div class="location-icon">${index + 1}</div>
                        <h5>${location.name}</h5>
                    </div>
                    <p class="location-description">${location.description}</p>
                    <div class="location-info">
                        <p><strong>Ciudad:</strong> ${location.city}</p>
                        <p><strong>País:</strong> ${location.country}</p>
                        <p><strong>Año:</strong> ${location.year}</p>
                    </div>
                    ${subLocationsHTML}
                    <div class="witness-section" style="display: none;">
                        <h6>Testimonio del Testigo:</h6>
                        <div class="witness-card">
                            <h5>${location.witness.name}</h5>
                            <p class="witness-testimony">${location.witness.testimony}</p>
                            <div class="clues-section">
                                <h6>Pistas del Testigo:</h6>
                                <ul class="clues-list">
                                    ${location.witness.clues.map(clue => `
                                        <li>${clue}</li>
                                    `).join('')}
                                </ul>
                            </div>
                            <div class="next-location">
                                <h6>¿A dónde irás ahora?</h6>
                                <div class="location-options" id="options-${index}">
                                    ${shuffleArray(location.witness.options).map(option => `
                                        <div class="location-option ${option.isCorrect ? 'correct' : 'incorrect'}" 
                                             data-location="${option.name}"
                                             data-city="${option.city}"
                                             data-country="${option.country}"
                                             data-year="${option.year}"
                                             data-correct="${option.isCorrect}">
                                            <h6>${option.name}</h6>
                                            <p>${option.description}</p>
                                            <div class="location-info">
                                                <p><strong>Ciudad:</strong> ${option.city}</p>
                                                <p><strong>País:</strong> ${option.country}</p>
                                                <p><strong>Año:</strong> ${option.year}</p>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                locationsGrid.appendChild(locationCard);
            });

            // Añadir event listeners a todas las opciones
            document.querySelectorAll('.location-option').forEach(option => {
                option.addEventListener('click', function() {
                    const locationCard = this.closest('.location-card');
                    if (!locationCard) return;
                    
                    const locationIndex = locationCard.id === 'location-start' ? 0 : parseInt(locationCard.id.split('-')[1]);
                    const locationName = this.getAttribute('data-location');
                    const isCorrect = this.getAttribute('data-correct') === 'true';
                    selectLocation(locationIndex, locationName, isCorrect);
                });
            });
        }

        // Función para aleatorizar un array
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        // Función para visitar una sububicación
        function visitSubLocation(locationIndex, subLocationIndex) {
            const subLocationCard = document.getElementById(`sub-location-${locationIndex}-${subLocationIndex}`);
            if (!subLocationCard || subLocationCard.getAttribute('data-visited') === 'true') return;

            // Marcar como visitada
            subLocationCard.setAttribute('data-visited', 'true');
            
            // Mostrar la pista
            const clueElement = subLocationCard.querySelector('.sub-location-clue');
            if (clueElement) {
                clueElement.style.display = 'block';
            }

            // Deshabilitar el botón
            const visitButton = subLocationCard.querySelector('.visit-button');
            if (visitButton) {
                visitButton.disabled = true;
                visitButton.textContent = 'Visitado';
            }

            // Verificar si todas las sububicaciones han sido visitadas
            const locationCard = document.getElementById(`location-${locationIndex}`);
            const allSubLocations = locationCard.querySelectorAll('.sub-location-card');
            const allVisited = Array.from(allSubLocations).every(subLoc => 
                subLoc.getAttribute('data-visited') === 'true'
            );

            // Si todas las sububicaciones han sido visitadas, mostrar la sección del testigo
            if (allVisited) {
                const witnessSection = locationCard.querySelector('.witness-section');
                if (witnessSection) {
                    witnessSection.style.display = 'block';
                    witnessSection.scrollIntoView({ behavior: 'smooth' });
                }
            }
        }

        // Actualizar detalles del caso cuando cambia el delincuente
        document.getElementById('criminalSelect').addEventListener('change', () => {
            updateAdventureSteps();
            updateCaseDetails();
        });

        // Inicializar con los valores por defecto
        updateAdventureSteps();
        updateCaseDetails();
    </script>
</body>

</html>